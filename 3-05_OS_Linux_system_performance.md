# Домашнее задание к занятию "3.5 Производительность системы"

------

### Задание 1.

Выполните проверку системы при помощи команды `top`.

**Выведите сортировку процессов по:**

- памяти;
- времени работы;
- номеру;
- уровню потребления ресурсов.

*Приведите ответ в виде снимков экрана.*

***Ответ:***

1. Сортировка процессов по памяти:

<a href="https://ibb.co/Yp9d76s"><img src="https://i.ibb.co/t8f2MSr/1-1.png" alt="1-1" border="0"></a>

2. Сортировка процессов по времени работы:

<a href="https://ibb.co/bFHWbLk"><img src="https://i.ibb.co/sC5mWQZ/1-2.png" alt="1-2" border="0"></a>

3. Сортировка процессов по номеру:

<a href="https://ibb.co/58QCCFh"><img src="https://i.ibb.co/yyzKKSF/1-3.png" alt="1-3" border="0"></a>

4. Сортировка проессов по уровню потребления ресурсов:

<a href="https://ibb.co/ZNX5h5t"><img src="https://i.ibb.co/YbQmtmY/1-4.png" alt="1-4" border="0"></a>

------

### Задание 2.

Выполните проверку системы при помощи команды `atop`.

**Выведите сортировку процессов по:**

- памяти;
- времени работы;
- номеру;
- уровню потребления ресурсов.

*Приведите ответ в виде снимков экрана.*

***Ответ:***

Сортировка процессов с помощью команды `atop` возможна только по этим параметрам:

<a href="https://ibb.co/8rs2tTv"><img src="https://i.ibb.co/wSgCj3G/2-0.png" alt="2-0" border="0"></a>

**!!!В связи с этим взял на себя смелость изменить третий пункт задания на сортировку по использованию диска!!!**

1. Сортировка процессов по памяти:

<a href="https://ibb.co/SKZHWKB"><img src="https://i.ibb.co/y8xKG8q/2-1.png" alt="2-1" border="0"></a>

2. Сортировка процессов по времени работы:

<a href="https://ibb.co/xLxd3Pz"><img src="https://i.ibb.co/zxqDNjP/2-2.png" alt="2-2" border="0"></a>

3. Сортировка процессов по использованию диска:

<a href="https://ibb.co/16V7yvj"><img src="https://i.ibb.co/NShtDVb/2-3-disk.png" alt="2-3-disk" border="0"></a>

4. Сортировка проессов по уровню потребления ресурсов:

<a href="https://ibb.co/7rcLzHd"><img src="https://i.ibb.co/P1p0YRv/2-4.png" alt="2-4" border="0"></a>

------

### Задание 3.

При помощи команды `mpstat` и ключа `P` выведите информацию по:

- определённому процессору;
- всем процессорам.

*Приведите ответ в виде снимков экрана.*

***Ответ:***

В виду технических ограничений (работаю на ВМ), могу вывести информацию только по одному используемому ВМ процессору:

<a href="https://ibb.co/0rfKN9w"><img src="https://i.ibb.co/JHzqLph/3-1.png" alt="3-1" border="0"></a>

------

### Задание 4.

Выполните проверку системы при помощи команды `pidstat`. 

1. Выведите статистику по эффективности на основе имени процесса. 
2. Выведите полный путь процесса.

*Приведите ответ в виде снимков экрана.*

***Ответ:***

1. Статистика по эффективности на основе имени процесса:

<a href="https://ibb.co/Jm75hbZ"><img src="https://i.ibb.co/dj2Gh3Z/4-1.png" alt="4-1" border="0"></a>

2. Полный путь процесса:

<a href="https://ibb.co/jkN6bzR"><img src="https://i.ibb.co/ZzjLGSm/4-2.png" alt="4-2" border="0"></a>

---

## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (необязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

### Задание 5.

Просмотрите каталог `/proc`, выполните любую команду для просмотра процессов. 

Сделайте сравнение вывода команды и содержания папки по:

- взаимосвязи объектов;
- времени создания.

**Примечания:**
для просмотра времени создания, размера и прав на использования воспользуйтесь командой `ls -la`.

*Приведите ответ в виде снимков экрана.*

***Ответ:***

Для ответа на поставленный вопрос необходимо разобраться с тем, что собой представляет папка /proc в Linux. Это не совсем обычная папка. Ее не существует на диске или даже в оперативной памяти. Все поддиректории, файлы и хранящаяся в них информация генерируется ядром на лету, как только эта информация запрашивается. Но работает все настолько прозрачно, что невозможно заметить разницу между любой другой директорией и папкой /proc. Открыть ее содержимое можно с помощью файлового менеджера.

Только папка /proc содержит файлы нулевого размера. Кроме этого, у каждого файла будет указано время создания на момент последнего изенения. Например файл /proc/meminfo будет содержать разные данные при каждом открытии, поскольку использование памяти постоянно колеблется.

Данная система позволяет придерживаться главной концепции Unix - все есть файл. Все файлы доступны для редактирования любым редактором, и все они в простом текстовом формате. Почти все файлы доступны только для чтения, из них можно только получать информацию. Но есть и доступные для записи, в частности это /proc/sys, с помощью которого можно настраивать различные параметры ядра.

Для просмотра запущенных процессов системы использовалась команда ps. 

1. Взаимосвязь объектов. В папке /proc PID процессов соответствуют идентичные цифровые названия подкаталогов/файлов (Рис. №1). Утилита top это подтверждает. Для 126 запущенных в системе процессов (Рис. №2) в каталоге /proc было создано 126 цифровых подкаталогов/файлов, названия которых соответствовали PID процессов. За исключением одного номера PID, который изменялся на единицу при создании файла в /proc. Он соответствует последней запущенной в консоли задаче ps (Рис. №3 PID 3079 в терминале слева и PID 3080 в терминале справа).

2. Время создания. Как выяснилось, есть два вида процессов: 1. процессы, создающие подкаталоги, внутри которых располагаются системные файлы; 2. процессы, создающие системные файлы без подкаталогов. Для первого вида процессов время создания подкаталога в /proc будет идентичным времени запуска самого процесса ядром при первоначальной загрузке системы. С той лишь разницей, что для создания подкаталога может потребоваться незначительное время. В связи с этим время запуска процесса и время создания подкаталога может различаться на 1 минуту (Рис. №1). Это время не изменяется до перезапуска системы. Однако у **файлов**, которые находятся в подкаталогах /proc, время создания будет обновляться и соответствовать времени на момент последнего изменения. Для второго вида процессов, время запуска процесса и время создания файла в /proc всегда будет обновляться и соответствовать системному времени на момент последнего изменения (Рис. №3 PID ). Как указывалось выше, это особенность работы каталога /proc.

Рис. №1

<a href="https://ibb.co/V9hLfhT"><img src="https://i.ibb.co/DW6106Q/5-1.png" alt="5-1" border="0"></a>

Рис. №2

<a href="https://ibb.co/CKvW4fj"><img src="https://i.ibb.co/WvFs7Lr/5-2.png" alt="5-2" border="0"></a>

Рис. №3

<a href="https://ibb.co/4sSKLK8"><img src="https://i.ibb.co/N1Ntqt9/5-3.png" alt="5-3" border="0"></a>