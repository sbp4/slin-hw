# Домашнее задание к занятию "2.2 Процессы, управление процессами "

### Задание 1

Рассмотрим загрузку данных и многопоточность. В описанных ниже ситуациях поможет ли использование нескольких потоков для скачивания уменьшить время общей загрузки?

1. 100 файлов на разных Web-серверах, суммарным объёмом 10 Гбайт, через подключение со скоростью 1Мбит\с;
2. 100 файлов на разных Web-серверах, суммарным объёмом 10 Гбайт, через подключение со скоростью 10 Гбит\с;
3. 1 файл объёмом 10 Гбайт находящийся в торрентах;
4. 1 файл объёмом 10 Гбайт находящийся на FTP-сервере;
5. 10 файлов объёмом по 1 Гб находящихся в общей папке компьютера секретаря.

*Приведите ответ для каждого случай в свободной форме (лучше использовать один поток скачивания, несколько, всё равно) со своим комментарием.*

***Ответ:***

1. Лучше скачивать в несколько потоков (несколько групп файлов). Скорость от этого, скорее всего, не изменится, так как относительно узкий канал пропускания. Но если "отвалится" один, или два потока, то повторно скачивать нужно будет только их (только эти группы файлов). 
2. Одним потоком. Широкий канал пропускания. Дольше на потоки разбивать.
3. Один файл подразумевает один поток скачивания. Однако в торрентах используется технология многопоточного скачивания с разных сидов. В связи с этим, файл скачивается быстрее, чем в однопоточном режиме. Плюс, коррекция ошибок, если один блок не скачался с одного сида, программа всегда сможет забрать его с другого. Вывод: используем несколько потоков.
4. Такая же ситуация, как и в п.п. 3 - один файл подразумевает один поток. Однако лучше использовать несколько потоков скачивания, например, с помощью FileZilla (можно тотал коммандер настроить на многопоточное скачивание). Файл быстрее "заберется".
5. **С данного компьютера лучше скачивать в один поток, так как на нем постоянно работают, кроме этого комп сам по себе слабый. Иначе у пользователя все будет зависать**.

---

## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (необязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

**Задание 1.1***

Попробуйте высказать предположение о **количестве потоков** скачивания, для случаев приведенных выше, если загрузка данных происходит на следующие системы:

- Компьютер Windows 10 64-bit\ i5-xxxx \16 Gb\ 2 TB HDD
- Компьютер Windows 10 32-bit\ i7-xxxx\ 8 Gb\ 2 TB HDD
- Ноутбук Windows 10 64-bit\ i7-xxxx\ 32 Gb\ 500 GB HDD
- Ноутбук Windows 10 64-bit\ i7-xxxx\ 32 Gb\ 2 TB HDD
- Компьютер Windows 8.1 32-bit\ i3-xxxx\ 8 Gb\ 1 TB SSD
- Компьютер Windows 10 64-bit\ i3-xxxx\ 8 Gb\ 1 TB HDD (RAID)

*Необязательно рассматривать все возможные комбинации, достаточно описать своими словами отличия.*

**Примечания:**

1) другими запущенными процессами на компьютерах можно пренебречь;

2) производительность CPU: i7 > i5 > i3.

***Ответ:***
Как мне кажется, для скачивания наибольшее значение имеет скорость соединения и скорость работы жесткого диска. В связи с этим:
1. На данную систему в ситуациях 1,2 и 5 из Задания 1 лучше скачивать в многопоточном режиме. Даже при учете того, что HDD в многопоточном режиме теряют производительность, не будет потеряна эффективность. А в ситуации 3 и 4 по сути неважно, прироста в скорости не будет.   
2. Данной системе все равно, она в любом случае будет "тупить". Сказывается 32-битная ОС, "запиленная" на относительно мощную систему. Даже быстрый процессор ее не спасет.
3. На данную систему в ситуации 1,2 и 5 из Задания 1 лучше скачивать в многопоточном режиме. И в ситуации 3 и 4 все равно в каком режиме. HDD быстрее записывать не будет.
4. **На данной системе лучше использовать однопоточное скачивание. На ноутбуках у винтов емкостью более 2ТВ, скорее всего, применена технология черепичной записи. Винт с данной технологией, при нагрузке несколькими потоками, почти наверняка будет "тормозить".** 
5. На эту систему все быстрее запишется в многопоточном режиме, так как SSD лучше справляется с ним. Притормозит немного процесс 32-битная система, обрезающая память данного ПК в два раза, и самый "медленный" из представленных процессоров. Они, конечно, "подгрузятся", но, в многопоточном режиме файлы загрузятся быстрее.
6. На эту систему тоже есть смысл сгружать данные в многопоточном режиме во всех ситуациях. В ней память будет задействована полностью и, самое главное, на этой машине установлен RAID-массив. Он даже с HDD дисками прекрасно справляется с многопоточностью. Иначе его не использовали бы в работе с нагруженными БД, такими как Oracle, 1С, SQL и т.д. 

**Задание 1.2****

Какой из приведенных выше компьютеров постоянно "тормозит" и почему?

***Ответ:***

**Постоянно "тормозить" будет четвертый комп в конфигурации "Ноутбук Windows 10 64-bit\ i7-xxxx\ 32 Gb\ 2 TB HDD", потому что на ноутах у винтов емкостью более 2ТВ, скорее всего, применена технология черепичной записи SMR.**

---

### Задание 2

Объясните, что делает команда:

`ps -aux | grep root | wc -l  >> root`

*Ответ напишите в свободной форме.*

**Примечание:**

Если вы встречаете неизвестную команду Linux, либо неизвестные параметры команды, то можете вызвать встроенную помощь:
`man <команда>`

Например:

- man ps;
- man grep;
- man wc.

***Ответ:***
Данная команда выбирает И подсчитывает все процессы, запущенные под пользователем root, а затем добавляет их в файл "root" в **текущем каталоге, открытом на момент запуска программы**. 

---

### Задание 3

Напишите команду, которая вывод все запущенные процессы пользователя root в файл *"user_root_ps"*.

***Ответ:***

ps -aux | grep root > user_root_ps

---

### Задание 4

Начинающий администратор захотел вывести все запущенные процессы пользователя с логином "2" в файл *"user_2_ps"*.

Для этого он набрал команду:

`ps -U 2> user_2_ps`

Затем, он аналогично повторил для пользователя с логином "5" вывод в файл "user_5_ps":

`ps -U 5> user_5_ps`

**Вопрос:** 

Почему вывод этих команд и содержимое файлов сильно отличаются друг от друга?  Как должны выглядеть правильные команды?

***Ответ:***

**Команда ps с аргументом -U отображает процессы пользователя с помощью реального идентификатора пользователя (RUID) или его имени. При запуске первой команды в моей системе в файл user_2_ps записалась ошибка. При запуске второй команды ошибка вывелась сразу и был создан пустой файл user_5_ps.**

**Правильные команды должны выглядеть вот так:**

**`ps -U 2 > user_2_ps`**
**`ps -U 5 > user_5_ps`**

**После выполнения данных команд были созданы файлы "user_2_ps" и "user_5_ps" со следующим содержимым:**

**`  PID TTY          TIME CMD      `**

Кроме этого, можно было бы использовать команды ниже для получения более детальной информаци:

`ps -aux | grep 2 > user_2_ps`
`ps -aux | grep 5 > user_5_ps`

**Примечание:**

Если у вас в системе нет пользователей "2" и/или "5" (это нормальная ситуация), то утилита ps выводит только одну строку:

`  PID TTY          TIME CMD      `
